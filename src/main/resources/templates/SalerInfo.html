<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<title>Insert title here</title>
  <link href="./vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Custom fonts for this template-->
  <link href="./vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  <!-- Custom styles for this template-->
  <link href="./css/sb-admin.css" rel="stylesheet"/>
</head>
<body>
<h1>SalerInfo</h1>
	<div class="container">
		<div class="card card-login mx-auto mt-5">
			<div class="card-header">个人信息</div>
			<div class="card-body">
				<table class="table table-bordered" id="infoTable"></table>
				<a th:href="@{/salerInfoModify}"><input type="button"
					value="修改个人信息" /></a>
			</div>
		</div>
	</div>
	<!-- Modal -->
	<div class="modal fade" id="myModal" tabindex="0" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">

		<div class="modal-dialog" id="large-image"></div>
	</div>
	<!-- <script src="./vendor/jquery/jquery.min.js"></script> -->
	<script src="https://cdn.bootcss.com/jquery/1.9.1/jquery.min.js"></script>
    <script src="./vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- Core plugin JavaScript-->
    <script src="./vendor/jquery-easing/jquery.easing.min.js"></script>
    <!-- Page level plugin JavaScript-->
    <script src="./vendor/datatables/jquery.dataTables.js"></script>
    <script src="./vendor/datatables/dataTables.bootstrap4.js"></script>
    <!-- Custom scripts for all pages-->
    <script src="./js/sb-admin.min.js"></script>
    <!-- Custom scripts for this page-->
    <script src="./js/sb-admin-datatables.min.js"></script>
	<script src="https://cdn.bootcss.com/layer/3.0.3/layer.min.js"></script>
	<script type="text/javascript">
		/*<![CDATA[*/
	Date.prototype.format = function(format)
{
 var o = {
 "M+" : this.getMonth()+1, //month
 "d+" : this.getDate(),    //day
 "h+" : this.getHours(),   //hour
 "m+" : this.getMinutes(), //minute
 "s+" : this.getSeconds(), //second
 "q+" : Math.floor((this.getMonth()+3)/3),  //quarter
 "S" : this.getMilliseconds() //millisecond
 }
 if(/(y+)/.test(format)) format=format.replace(RegExp.$1,
 (this.getFullYear()+"").substr(4 - RegExp.$1.length));
 for(var k in o)if(new RegExp("("+ k +")").test(format))
 format = format.replace(RegExp.$1,
 RegExp.$1.length==1 ? o[k] :
 ("00"+ o[k]).substr((""+ o[k]).length));
 return format;
}
	$().ready(function() {
		
		 
			 $.ajax({
				    async: false,
				    type: "GET",
				    cache:false, 
				    dataType: 'jsonp',
				    jsonp: 'callback',
				    jsonpCallback: 'api_callback',
				    url: "http://127.0.0.1:8002/Saler/info",
				    data: {"key":"SH00000001"},
				    timeout: 3000,
				   // contentType: "application/jsonp;utf-8",
				    success: function(msg) {
				      console.log(msg);
				      var info = msg.parameters[0];
			 			var infoTable = $('#infoTable');
			 			var info = msg.parameters[0];
			 			var infoTable = $('#infoTable');
				     	var salerId = info.s_ID;
						var salerName = info.s_name;
						var salerPassword = info.s_password;
						var salerImage = info.s_image;
						var salerTele = info.s_tele;
						var salerEmail = info.s_email;
						if(info.s_email==null){
							salerEmail="";
						}
						var salerAddress = info.s_address;
						var salerSignature = info.s_signature;
						var salerDate = (new Date(parseFloat(info.s_date))).format("yyyy-MM-dd hh:mm:ss");
						var salerScore = info.s_score;
						infoTable.html(
								 '<tbody>'
								+'<tr><td>image</td><td>'
								+'<img data-toggle="modal" data-target="#myModal" alt="头像" id="head" class="rounded-circle img-thumbnail img-responsive" height="50" width="50" src="http://localhost:8888/Saler/'+ salerImage
								+ '"/></td></tr>'
								+'<tr><td>ID</td><td>'+ salerId + '</td></tr>'
								+'<tr><td>name</td><td>'+ salerName + '</td></tr>'
								+'<tr><td>password</td><td>'+ salerPassword + '</td></tr>'
								+'<tr><td>tele</td><td>'+ salerTele + '</td></tr>'
								+'<tr><td>email</td><td>'+ salerEmail + '</td></tr>'
								+'<tr><td>address</td><td>'+ salerAddress + '</td></tr>'
								+'<tr><td>signature</td><td>'+ salerSignature + '</td></tr>'
								+'<tr><td>date</td><td>'+ salerDate + '</td></tr>'
								+'<tr><td>score</td><td>'+ salerScore + '</td></tr>'
								+'</tbody>'
						);
				    },
				    error:function(XMLHttpRequest, textStatus, errorThrown){ //请求失败时被调用的函数。3个参数：XMLHttpRequest对象、错误信息、捕获的错误对象
				    	console.log(textStatus+":"+errorThrown);
				    	layer.msg("请求未成功" , {anim: 6 });
				    }
				  });
			 
			
	});
	/*]]>*/
	</script>
	<script type="text/javascript">
	$(document).on('click',"#aaa",function(e){   
	    console.log("in");  
	})  
		  $(document).on('click',"#head",function(e){   
			  var src=$(this).attr("src");
		   var large_image = "<img src=" + src + "/>";
		   $('#large-image').html($(large_image).animate({ height: '100%', width: '100%' }, 500));
			  console.log(src);
		  });	
	 </script>
</body>
</html>